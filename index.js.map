{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/helpers.js","../src/js/burger-menu.js","../src/js/constants.js","../src/js/furniture-api.js","../src/js/render-function.js","../src/js/modal-order.js","../src/js/modal.js","../src/js/handlers.js","../src/main.js"],"sourcesContent":["const refs = {\n  //Menu elements\n  menuOpenBtn: document.querySelector('.header-burger-btn'),\n  menuCloseBtn: document.querySelector('.burger-menu-close'),\n  menuBackdrop: document.querySelector('.burger-menu'),\n  menuLinksList: document.querySelector('.content-list'),\n\n  //Furniture elements\n  furnitureCategoriesList: document.querySelector('.category-list'),\n  furnitureFurnituresList: document.querySelector('.furniture-list'),\n  furnitureLoadMoreBtn: document.querySelector('.load-more-button'),\n  furnitureLoader: document.querySelector('div.container-furniture .loader'),\n\n  // Feedback elements\n  feedbackFeedbacksList: document.querySelector('.swiper-wrapper'),\n\n  //Furniture details modal elements\n  furnitureDetailsBackdrop: document.querySelector('[data-backdrop-furniture-details]'),\n  furnitureDetailsModal: document.querySelector('.furniture-modal'),\n  furnitureDetailsCloseBtn: document.querySelector('[data-backdrop-furniture-close]'),\n  furnitureDetailsImages: document.querySelector('.furniture-modal-img-list'),\n  furnitureDetailsInfo: document.querySelector('.furniture-modal-info'),\n  furnitureDetailsOrderBtn: document.querySelector('[data-backdrop-furniture-order'),\n  \n\n  //Order modal elements\n  orderBackdrop: document.querySelector('[data-backdrop-order]'),\n  orderCloseBtn: document.querySelector('[data-backdrop-order-close]'),\n  orderForm: document.querySelector('.form-modal'),\n  orderLoader: document.querySelector('[data-loader-order]'),\n};\n\nexport default refs;\n","import Accordion from 'accordion-js';\n//import \"accordion-js/dist/accordion.min.css\";\nimport Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard, Mousewheel } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\n\nfunction initialAccordion() {\n  const params = {\n    duration: 350,\n    showMultiple: false,\n    elementClass: 'accordion-item',\n    triggerClass: 'accordion-trigger',\n    panelClass: 'accordion-panel',\n    activeClass: 'accordion-active',\n  };\n\n  new Accordion('.accordion-list', params);\n}\n\nfunction initialSwiper() {\n  new Swiper('.swiper', {\n    modules: [Navigation, Pagination, Keyboard, Mousewheel],\n    speed: 350,\n    slidesPerGroup: 1,\n    grabCursor: true,\n    loop: false,\n    loopPreventsSliding: true,\n\n    breakpoints: {\n      320: { slidesPerView: 1 },\n      768: { slidesPerView: 2, spaceBetween: 24 },\n      1440: { slidesPerView: 3, spaceBetween: 24 },\n    },\n\n    pagination: {\n      el: '.paginator',\n      clickable: true,\n    },\n\n    navigation: {\n      nextEl: '.btn-next',\n      prevEl: '.btn-prev',\n    },\n\n    scrollbar: {\n      el: '.swiper-scrollbar',\n      draggable: true,\n    },\n\n    keyboard: {\n      enabled: true,\n      onlyInViewport: true,\n    },\n  });\n}\n\nexport { initialAccordion, initialSwiper };\n","import refs from './refs';\nimport { handlerMenuCloseBtn,handlerMenuBackdropClick, handlerMenuBackdropEscape, handlerMenuLinksList } from './handlers.js'\n\nfunction openBurgerMenu()  {\n  refs.menuBackdrop.classList.add('is-open');\n  document.body.classList.add('no-scroll');\n  document.addEventListener('keydown', handlerMenuBackdropEscape);\n  refs.menuBackdrop.addEventListener('click', handlerMenuBackdropClick);\n  refs.menuCloseBtn.addEventListener('click', handlerMenuCloseBtn);\n  refs.menuLinksList.addEventListener('click', handlerMenuLinksList);    \n};\n  \nfunction closeBurgerMenu() {\n  refs.menuBackdrop.classList.remove('is-open');\n  document.body.classList.remove('no-scroll');\n  document.removeEventListener('keydown', handlerMenuBackdropEscape);\n  refs.menuBackdrop.removeEventListener('click', handlerMenuBackdropClick);\n  refs.menuCloseBtn.removeEventListener('click', handlerMenuCloseBtn);\n  refs.menuLinksList.removeEventListener('click', handlerMenuLinksList);\n}\n\nexport {\n  openBurgerMenu,\n  closeBurgerMenu\n}","const API_BASE_URL = \"https://furniture-store-v2.b.goit.study\";\n\nconst API_ENDPOINTS = {\n  FURNITURES: \"/api/furnitures\",\n  FURNITURES_BY_ID: \"/api/furnitures/\",\n  CATEGORIES: \"/api/categories\",\n  FEEDBACKS: \"/api/feedbacks\",\n  ORDERS: \"/api/orders\"    \n};\n\nconst FURNITURES_PER_PAGE = 8;\nconst FEEDBACKS_PER_PAGE = 10;\n\nconst CATEGORY_TYPE = {\n  \"Всі товари\": \"all-furniture\",\n  \"М'які меблі\": \"upholstered-furniture\",\n  \"Шафи та системи зберігання\": \"wardrobes-storage\",\n  \"Ліжка та матраци\": \"beds-mattresses\",\n  \"Столи\": \"tables\",\n  \"Стільці та табурети\": \"chairs-stools\",\n  \"Кухні\": \"kitchens\",\n  \"Меблі для дитячої\": \"kids-furniture\",\n  \"Меблі для офісу\": \"office-furniture\",\n  \"Меблі для передпокою\": \"hallway-furniture\",\n  \"Меблі для ванної кімнати\": \"bathroom-furniture\",\n  \"Садові та вуличні меблі\": \"outdoor-garden-furniture\",\n  \"Декор та аксесуари\": \"decor-accessories\"\n};\n\nexport {\n  API_BASE_URL,\n  API_ENDPOINTS,\n  FURNITURES_PER_PAGE,\n  FEEDBACKS_PER_PAGE,  \n  CATEGORY_TYPE\n};","import axios from 'axios';\nimport {\n  API_BASE_URL,\n  API_ENDPOINTS,\n  FEEDBACKS_PER_PAGE,\n  FURNITURES_PER_PAGE,\n} from './constants';\n\nasync function getFurnitureCategories() {\n  const { data: categoriesArr } = await axios.get(\n    `${API_BASE_URL}${API_ENDPOINTS.CATEGORIES}`\n  );\n\n  return categoriesArr;\n}\n\nasync function getFurnitureFurnitures(page = 1) {\n  const { data } = await axios.get(\n    `${API_BASE_URL}${API_ENDPOINTS.FURNITURES}`,\n    {\n      params: {\n        page,\n        limit: FURNITURES_PER_PAGE,\n      },\n    }\n  );\n  return data;\n}\n\nasync function getFurnitureByCategory(page = 1, category = 'all') {\n  const { data } = await axios.get(\n    `${API_BASE_URL}${API_ENDPOINTS.FURNITURES}`,\n    {\n      params: {\n        page,\n        limit: FURNITURES_PER_PAGE,\n        category,\n      },\n    }\n  );\n  return data;\n}\n\nasync function getFurnitureById(furnitureId) {\n  const { data } = await axios.get(`${API_BASE_URL}${API_ENDPOINTS.FURNITURES_BY_ID}${furnitureId}`);\n  console.log(data);  \n  return data;\n}\n\n\n\nasync function getFeedbackFeedbacks() {\n  const {\n    data: { feedbacks },\n  } = await axios.get(`${API_BASE_URL}${API_ENDPOINTS.FEEDBACKS}`, {\n    params: {\n      limit: FEEDBACKS_PER_PAGE,\n    },\n  });\n  return feedbacks;\n}\n\nasync function sendOrder(orderData) {\n  const response = await axios.post(\n    `${API_BASE_URL}${API_ENDPOINTS.ORDERS}`,\n    orderData\n  );\n  return response;\n}\n\nexport {\n  getFurnitureCategories,\n  getFurnitureFurnitures,\n  getFeedbackFeedbacks,\n  getFurnitureByCategory,\n  getFurnitureById,\n  sendOrder,\n};\n\n\n\n\n","import refs from './refs';\nimport { CATEGORY_TYPE } from './constants';\n\n//#region ===== Furniture =====\nfunction renderFurnitureCategories(categoriesArr) {\n  const allCategoriesArr = [\n    { _id: 'all', name: 'Всі товари' },\n    ...categoriesArr,\n  ];\n\n  const allCategoriesMarkup = allCategoriesArr\n    .map(({ _id: id, name }) => {\n      return `\n        <li class=\"category-item\"\n            data-category-id=\"${id}\" \n            data-category-type=\"${CATEGORY_TYPE[name] || 'unknown'}\"\n        >\n            <p class=\"category-name\">${name}</p>\n        </li>\n        `;\n    })\n    .join('');\n\n  refs.furnitureCategoriesList.insertAdjacentHTML(\n    'beforeend',\n    allCategoriesMarkup\n  );\n}\n\nfunction renderFurnitureFurnitures(furnitures) {\n  const listMarkupArr = furnitures\n    .map(({ _id: id, images, name, color, price }) => {\n      const markupColor = color\n        .map(\n          clr =>\n            `<li class=\"furniture-color\" style=\"background-color: ${clr};\"></li>`\n        )\n        .join('');\n\n      return `\n            <li class=\"furniture-item\" data-furniture-id=\"${id}\">\n                <img class=\"furniture-image\" src=\"${images[0]}\" alt=\"${name}\"/>\n                <div class=\"furniture-info\">\n                    <h3 class=\"furniture-name\">${name}</h3>\n                    <ul class=\"furniture-colors\">\n                        ${markupColor}\n                    </ul>\n                    <p class=\"furniture-price\">${price} грн</p>\n                </div>\n                <button class=\"furniture-button\" type=\"button\">Детальніше</button>\n            </li>\n            `;\n    })\n    .join('');\n\n  refs.furnitureFurnituresList.insertAdjacentHTML('beforeend', listMarkupArr);\n}\n\nfunction furnitureShowLoadMoreBtn() {\n  console.log('furnitureLoadMoreBtn show');\n\n  refs.furnitureLoadMoreBtn.classList.remove('is-hidden');\n}\n\nfunction furnitureHideLoadMoreBtn() {\n  console.log('furnitureLoadMoreBtn hide');\n  refs.furnitureLoadMoreBtn.classList.add('is-hidden');\n}\n\nfunction furnitureShowLoader() {\n  refs.furnitureLoader.classList.remove('is-hidden');\n}\n\nfunction furnitureHideLoader() {\n  refs.furnitureLoader.classList.add('is-hidden');\n}\n\nfunction furnitureToggleActiveCategory(categoryEl) {\n  refs.furnitureCategoriesList.querySelectorAll('.category-item')\n    .forEach(category => category.classList.remove('category-item-active'));  \n  categoryEl.classList.add('category-item-active');\n}\n\n//#endregion ===== Furniture =====\n\n//#region ===== Feedback =====\nfunction renderFeedbackFeedbacks(feedbacks) {\n  const feedbacksMarkup = feedbacks\n    .map(({ rate, descr, name }) => {\n      return `\n        <li class=\"swiper-slide\">\n          <div class=\"feedback-item\">\n            <p class=\"feedback-rate\"> ${rate}</p>\n            <p class=\"feedback-descr\">${descr}</p>\n            <p class=\"feedback-author\">${name}</p>\n          </div>\n        </li>`;\n    })\n    .join('');\n\n  refs.feedbackFeedbacksList.insertAdjacentHTML('beforeend', feedbacksMarkup);\n}\n//#endregion ===== Feedback =====\n\n//#region ===== Furniture details modal =====\n\nfunction renderFurnitureDetailsModal(furnitureDetails) { \n  const {\n    name,\n    category: { name: categoryName },\n    price,\n    rate,\n    color,\n    description,\n    sizes,\n    images\n  } = furnitureDetails;\n  \n  const imagesMarkup = images\n    .map(image => {\n      return `\n        <li class=\"furniture-modal-img-item\">\n          <img\n            class=\"furniture-modal-img\"\n            src=\"${image}\"\n            alt=\"${description}\"\n            loading=\"lazy\"\n          />\n      </li>\n      `;\n    })\n    .join('');\n  \n  const colorsMarkup = color\n    .map(colorItem => {\n      return `\n        <li\n            class=\"furniture-modal-color\"\n            style=\"background-color: ${colorItem}\"\n            data-color=\"${colorItem}\"\n          >\n        </li>\n      `;\n    })\n    .join('');\n  \n  const infoMarkup = `\n    <h3 class=\"furniture-modal-name\">${name}</h3>\n    <p class=\"furniture-modal-category\">${categoryName}</p>\n    <p class=\"furniture-modal-price\">${price} грн</p>\n    <div class=\"furniture-modal-rate\">${rate}</div>\n    <p class=\"furniture-modal-subtitle\">Колір</p>\n    <ul class=\"furniture-modal-colors\">${colorsMarkup}</ul>\n    <p class=\"furniture-modal-description\">${description}</p>\n    <p class=\"furniture-modal-size\">Розміри: ${sizes}</p>\n  `\n  refs.furnitureDetailsImages.innerHTML = imagesMarkup;\n  refs.furnitureDetailsInfo.innerHTML = infoMarkup;\n}\n\nfunction furnitureDetailsToggleCurruntColor(colorEl) {\n  document.querySelectorAll('.furniture-modal-color')\n    .forEach(item => item.classList.remove('current-color'));  \n  colorEl.classList.add('current-color');\n}\n\n//#endregion ===== Furniture details modal =====\n\n\n//#region ===== Order modal =====\nfunction showOrderLoader() {\n  refs.orderLoader.classList.remove('is-hidden');\n}\n\nfunction hideOrderLoader() {\n  refs.orderLoader.classList.add('is-hidden');\n}\n\nfunction showError(input, message) {\n  const errorText = input.parentElement.querySelector('.error-text');\n  input.classList.add('invalid');\n  if (errorText) {\n    errorText.textContent = message;\n    errorText.style.opacity = 1;\n  }\n}\n//#endregion ===== Order modal =====\n\nexport {\n  renderFurnitureCategories,\n  renderFurnitureFurnitures,\n  furnitureToggleActiveCategory,\n  furnitureShowLoadMoreBtn,\n  furnitureHideLoadMoreBtn,\n  furnitureShowLoader,\n  furnitureHideLoader,\n  renderFurnitureDetailsModal,\n  furnitureDetailsToggleCurruntColor,\n  renderFeedbackFeedbacks,\n  showOrderLoader,\n  hideOrderLoader,\n  showError,\n};","import refs from './refs';\nimport { handlerOrderBackdropClick, handlerOrderBackdropEscape, handlerOrderCloseBtn, handlerOrderSubmitForm } from './handlers';\n\n// Відкриття модалки\nfunction openOrderModal() {\n  refs.orderBackdrop.classList.add('is-open');\n  document.body.classList.add('no-scroll');\n  document.addEventListener('keydown', handlerOrderBackdropEscape);\n  refs.orderCloseBtn.addEventListener('click', handlerOrderCloseBtn);\n  refs.orderBackdrop.addEventListener('click', handlerOrderBackdropClick);\n  refs.orderForm.addEventListener('submit', handlerOrderSubmitForm);\n}\n\n// Закриття модалки\nfunction closeOrderModal() {\n  refs.orderBackdrop.classList.remove('is-open');\n  document.body.classList.remove('no-scroll');\n  document.removeEventListener('keydown', handlerOrderBackdropEscape);\n  refs.orderCloseBtn.removeEventListener('click', handlerOrderCloseBtn);\n  refs.orderBackdrop.removeEventListener('click', handlerOrderBackdropClick); \n  refs.orderForm.removeEventListener('submit', handlerOrderSubmitForm);\n}\n\n// Валідація форми\nfunction validateForm(form) {\n  let isValid = true;\n\n  const nameInput = form.querySelector('#user-name');\n  const phoneInput = form.querySelector('#user-phone');\n  const commentInput = form.querySelector('#user-comment');\n\n  // Скинути попередні стани\n  form.querySelectorAll('.error-text').forEach(e => (e.style.opacity = 0));\n  form.querySelectorAll('.form-input').forEach(i => i.classList.remove('invalid'));\n\n  // Ім'я\n  const namePattern = /^[A-Za-zА-Яа-яЇїІіЄєҐґ'\\-\\s]{2,}$/;\n  if (!namePattern.test(nameInput.value.trim())) {\n    showError(nameInput, \"Введіть коректне ім'я (лише літери, мінімум 2)\");\n    isValid = false;\n  }\n\n  // Телефон\n  const phone = phoneInput.value.trim().replace(/\\D/g, '');\n  const phonePattern = /^[0-9]{12}$/;\n  if (!phonePattern.test(phone)) {\n    showError(phoneInput, 'Введіть коректний номер телефону (12 цифр, наприклад 380XXXXXXXXX)');\n    isValid = false;\n  }\n\n  // Коментар\n  const comment = commentInput.value.trim();\n  if (comment.length > 0 && comment.length < 5) {\n    showError(commentInput, 'Коментар має містити щонайменше 5 символів');\n    isValid = false;\n  }\n\n  return isValid;\n}\n\n// Очистка форми\nfunction clearForm() {\n  refs.orderForm.reset();\n  refs.orderForm.querySelectorAll('.error-text').forEach(e => (e.style.opacity = 0));\n  refs.orderForm.querySelectorAll('.form-input').forEach(i => i.classList.remove('invalid'));\n}\n\n// Показати помилку\nfunction showError(input, message) {\n  const errorText = input.parentElement.querySelector('.error-text');\n  input.classList.add('invalid');\n  if (errorText) {\n    errorText.textContent = message;\n    errorText.style.opacity = 1;\n  }\n}\n\n// Подія input,щоб прибирати помилки\nfunction handleInputEvent(e) {\n  const input = e.target;\n  input.classList.remove('invalid');\n  const errorText = input.parentElement.querySelector('.error-text');\n  if (errorText) errorText.style.opacity = 0;\n}\n\nrefs.orderForm.querySelectorAll('.form-input').forEach(input => {\n  input.addEventListener('input', handleInputEvent);\n});\n\nasync function handleOrderFormSubmit(e) {\n  e.preventDefault();\n\n  const submitBtn = refs.orderForm.querySelector('button[type=\"submit\"]');\n  const loader = refs.orderForm.querySelector('.loader');\n\n\n  // Блокуємо кнопку і показуємо лоадер\n  submitBtn.disabled = true;\n  submitBtn.style.display = 'none';\n  loader.style.display = 'block';\n\n  // Тимчасово прибираємо закриття модалки\n  refs.orderCloseBtn.removeEventListener('click', handlerOrderCloseBtn);\n  refs.orderBackdrop.removeEventListener('click', handlerOrderBackdropClick);\n\n  // Валідація\n  if (validateForm(refs.orderForm)) {\n    const formData = {\n      name: refs.orderForm.querySelector('#user-name').value.trim(),\n      phone: refs.orderForm.querySelector('#user-phone').value.trim(),\n      comment: refs.orderForm.querySelector('#user-comment').value.trim(),\n    };\n\n    try {\n    const response = await axios.post(\n  'https://furniture-store-v2.b.goit.study/api/orders',\n  formData,\n  { headers: { 'Content-Type': 'application/json' } }\n);\n\n      clearForm();\n\n      // Відновлюємо кнопку і ховаємо лоадер\n      submitBtn.disabled = false;\n      submitBtn.style.display = 'block';\n      loader.style.display = 'none';\n\n      // Відновлюємо слухачі закриття\n      refs.orderCloseBtn.addEventListener('click', handlerOrderCloseBtn);\n      refs.orderBackdrop.addEventListener('click', handlerOrderBackdropClick);\n\n      closeOrderModal();\n    } catch (error) {\n      console.error('Помилка при відправці:', error);\n\n      // Відновлюємо кнопку та лоадер\n      submitBtn.disabled = false;\n      submitBtn.style.display = 'block';\n      loader.style.display = 'none';\n\n      refs.orderCloseBtn.addEventListener('click', handlerOrderCloseBtn);\n      refs.orderBackdrop.addEventListener('click', handlerOrderBackdropClick);\n\n      alert('Сталася помилка при відправці. Спробуйте ще раз.');\n    }\n  } else {\n    \n    // Повертаємо кнопку та слухачі якщо не валідна форма \n    submitBtn.disabled = false;\n    submitBtn.style.display = 'block';\n    loader.style.display = 'none';\n\n    refs.orderCloseBtn.addEventListener('click', handlerOrderCloseBtn);\n    refs.orderBackdrop.addEventListener('click', handlerOrderBackdropClick);\n  }\n}\n\nexport { \n  openOrderModal,\n  closeOrderModal,\n  validateForm,\n  clearForm,\n  handleOrderFormSubmit\n};\n","import { handlerFurnitureDetailsBackdropClick, handlerFurnitureDetailsBackdropEscape, handlerFurnitureDetailsCloseBtn, handlerFurnitureDetailsOrderBtn, handlerFurnitureDetailsSelectColor } from \"./handlers\";\nimport refs from \"./refs\";\n\n\nfunction openFurnitureDetailsModal() {\n  refs.furnitureDetailsBackdrop.classList.add('is-open');\n  refs.furnitureDetailsModal.scrollTop = 0;\n  document.body.classList.add('no-scroll');\n  document.addEventListener('keydown', handlerFurnitureDetailsBackdropEscape);\n  refs.furnitureDetailsCloseBtn.addEventListener('click', handlerFurnitureDetailsCloseBtn);\n  refs.furnitureDetailsBackdrop.addEventListener('click', handlerFurnitureDetailsBackdropClick);\n  refs.furnitureDetailsOrderBtn.addEventListener('click', handlerFurnitureDetailsOrderBtn);\n\n  const colorsList = document.querySelector('.furniture-modal-colors');\n  colorsList.addEventListener('click', handlerFurnitureDetailsSelectColor);\n\n}\n\nfunction closeFurnitureDetailsModal() {\n  refs.furnitureDetailsBackdrop.classList.remove('is-open');\n  document.body.classList.remove('no-scroll');  \n  document.removeEventListener('keydown', handlerFurnitureDetailsBackdropEscape);\n  refs.furnitureDetailsCloseBtn.removeEventListener('click', handlerFurnitureDetailsCloseBtn);\n  refs.furnitureDetailsBackdrop.removeEventListener('click', handlerFurnitureDetailsBackdropClick); \n  refs.furnitureDetailsOrderBtn.removeEventListener('click', handlerFurnitureDetailsOrderBtn);\n\n  const colorsList = document.querySelector('.furniture-modal-colors');\n  colorsList.removeEventListener('click', handlerFurnitureDetailsSelectColor);\n}\n\n\nexport { \n  openFurnitureDetailsModal,\n  closeFurnitureDetailsModal,\n};\n","import refs from './refs';\nimport { initialAccordion, initialSwiper } from './helpers';\nimport { openBurgerMenu, closeBurgerMenu } from './burger-menu';\nimport {\n  getFeedbackFeedbacks,\n  getFurnitureCategories,\n  getFurnitureFurnitures,\n  getFurnitureByCategory,\n  sendOrder,\n  getFurnitureById,\n} from './furniture-api';\nimport {\n  furnitureDetailsToggleCurruntColor,\n  furnitureHideLoader,\n  furnitureHideLoadMoreBtn,\n  furnitureShowLoader,\n  furnitureShowLoadMoreBtn,\n  furnitureToggleActiveCategory,\n  hideOrderLoader,\n  renderFeedbackFeedbacks,\n  renderFurnitureCategories,\n  renderFurnitureDetailsModal,\n  renderFurnitureFurnitures,\n  showOrderLoader,\n} from './render-function';\nimport {\n  openOrderModal,\n  closeOrderModal,\n  validateForm,\n  clearForm,\n} from './modal-order';\nimport iziToast from 'izitoast';\nimport { closeFurnitureDetailsModal, openFurnitureDetailsModal } from './modal';\n\nlet page = null;\nlet currentCategory = null;\n\nlet currentModelId = null;\nlet currentColor = null;\n\nasync function initialHomePage() {\n  currentCategory = 'all';\n  page = 1;\n  try {\n    const categoriesArr = await getFurnitureCategories();\n    renderFurnitureCategories(categoriesArr);\n    \n    const firstActiveCategory = refs.furnitureCategoriesList.querySelector('.category-item[data-category-id=\"all\"]');\n    furnitureToggleActiveCategory(firstActiveCategory);\n    \n    const { furnitures, totalItems, limit } = await getFurnitureFurnitures();\n    renderFurnitureFurnitures(furnitures);\n\n    furnitureHideLoader();\n    if (limit * page < totalItems) {\n      furnitureShowLoadMoreBtn();\n    }\n\n    const feedbacksArr = await getFeedbackFeedbacks();\n    renderFeedbackFeedbacks(feedbacksArr);\n    //initialSwiper();\n\n    initialAccordion();\n  } catch (error) {\n    console.log(error.message);\n  } finally {\n    furnitureHideLoader();\n  }\n}\n\n//#region ===== Menu handlers =====\n\nfunction handlerMenuOpenBtn() {\n  openBurgerMenu();\n}\n\nfunction handlerMenuCloseBtn() {\n  closeBurgerMenu();\n}\n\nfunction handlerMenuBackdropClick(event) {\n  if (event.target === refs.menuBackdrop) {\n    closeBurgerMenu();\n  }\n}\n\nfunction handlerMenuBackdropEscape(event) {\n  if (event.key === 'Escape') {\n    closeBurgerMenu();\n  }\n}\n\nfunction handlerMenuLinksList(event) {\n  if (event.target.nodeName !== 'A') return;\n  closeBurgerMenu();\n}\n//#endregion ===== Menu handlers =====\n\n//#region ===== Furniture handlers =====\nasync function handlerFurnitureByCategory(event) {\n  const clickedCategoryItem = event.target.closest('.category-item');\n  if (!clickedCategoryItem) {\n    return;\n  }\n  \n  furnitureToggleActiveCategory(clickedCategoryItem);\n  \n  page = 1;\n  refs.furnitureFurnituresList.innerHTML = '';\n  furnitureHideLoadMoreBtn();\n  furnitureShowLoader();\n  try {\n    currentCategory = clickedCategoryItem.dataset.categoryId;\n    const { furnitures, totalItems, limit } =\n      currentCategory === 'all'\n        ? await getFurnitureFurnitures(page)\n        : await getFurnitureByCategory(page, currentCategory);\n    renderFurnitureFurnitures(furnitures);\n    if (limit * page < totalItems) {\n      furnitureShowLoadMoreBtn();\n    }\n  } catch (error) {\n    console.log(error.message);\n  } finally {\n    furnitureHideLoader();\n  }\n}\n\nasync function handlerFurnitureLoadMoreBtn() {\n  page++;\n  furnitureHideLoadMoreBtn();\n  furnitureShowLoader();\n  try {\n    const { furnitures, totalItems, limit } =\n      currentCategory === 'all'\n        ? await getFurnitureFurnitures(page)\n        : await getFurnitureByCategory(page, currentCategory);\n    renderFurnitureFurnitures(furnitures);\n\n    if (limit * page < totalItems) {\n      console.log(limit * page < totalItems);\n      furnitureShowLoadMoreBtn();\n    }\n  } catch (error) {\n    console.log(error.message);\n  } finally {\n    furnitureHideLoader();\n  }\n}\n\nasync function handlerFurnitureDetailsOpenBtn(event) { \n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  currentModelId = event.target.closest('.furniture-item').dataset.furnitureId;\n\n  try {\n    const furnitureDetails = await getFurnitureById(currentModelId);\n    renderFurnitureDetailsModal(furnitureDetails);\n    \n    currentColor = furnitureDetails.color[0];\n    furnitureDetailsToggleCurruntColor(document.querySelector('.furniture-modal-color'));\n\n  } catch (error) {\n    console.log(error.message);    \n  }\n\n  //вибір першого кольору\n  console.log(currentModelId);\n  console.log(currentColor);\n  openFurnitureDetailsModal();\n}\n\nfunction handlerFurnitureDetailsCloseBtn() {\n  closeFurnitureDetailsModal();\n}\n\nfunction handlerFurnitureDetailsBackdropClick(event) {\n  if (event.target === refs.furnitureDetailsBackdrop) {\n    closeFurnitureDetailsModal();\n  }\n}\n\nfunction handlerFurnitureDetailsBackdropEscape(event) {\n  if (event.key === 'Escape') {\n    closeFurnitureDetailsModal();\n  }\n}\n\nfunction handlerFurnitureDetailsOrderBtn(event) {\n  closeFurnitureDetailsModal();\n  openOrderModal();\n}\n\nfunction handlerFurnitureDetailsSelectColor(event) {\n  if (event.target.nodeName !== \"LI\") {\n    return;\n  }\n  currentColor = event.target.dataset.color;\n  furnitureDetailsToggleCurruntColor(event.target);\n}\n\n\n\n//#endregion ===== Furniture handlers =====\n\n//#region ===== Order modal handlers =====\nfunction handlerOrderCloseBtn() {\n  closeOrderModal();\n}\n\nfunction handlerOrderBackdropClick(event) {\n  if (event.target === refs.orderBackdrop) {\n    closeOrderModal();\n  }\n}\n\nfunction handlerOrderBackdropEscape(event) {\n  if (event.key === 'Escape') {\n    closeOrderModal();\n  }\n}\n\nasync function handlerOrderSubmitForm(event) {\n  event.preventDefault();\n\n  if (!validateForm(refs.orderForm)) return;\n\n  showOrderLoader();\n\n  const name = refs.orderForm.elements['user-name'].value.trim();\n  const phone = refs.orderForm.elements['user-phone'].value\n    .trim()\n    .replace(/\\D/g, '');\n  const comment =\n    refs.orderForm.elements['user-comment'].value.trim() || 'Немає коментаря';\n\n  const orderData = {\n    name,\n    phone,\n    modelId: currentModelId || '682f9bbf8acbdf505592ac36',\n    color: currentColor || '#1212ca',\n    comment,\n  };\n\n  try {\n    const response = await sendOrder(orderData);\n\n    console.log('Вся відповідь сервера:', response);\n    console.log('Тільки data:', response.data);\n\n    iziToast.success({\n      title: 'Успіх!',\n      message: `Замовлення №${response.data.orderNum} успішно створено.`,\n      position: 'topRight',\n    });\n\n    clearForm();\n    closeOrderModal();\n  } catch (error) {\n    let message = 'Сталася невідома помилка. Спробуйте ще раз.';\n    if (error.response && error.response.data && error.response.data.message) {\n      message = error.response.data.message;\n    }\n\n    iziToast.error({\n      title: 'Помилка',\n      message,\n      position: 'topRight',\n    });\n  } finally {\n    hideOrderLoader();\n  }\n}\n//#endregion ===== Order modal handlers =====\n\nexport {\n  initialHomePage,\n\n  //Export menu handlers\n  handlerMenuOpenBtn,\n  handlerMenuCloseBtn,\n  handlerMenuBackdropClick,\n  handlerMenuBackdropEscape,\n  handlerMenuLinksList,\n\n  //Export furniture handlers\n  handlerFurnitureLoadMoreBtn,\n  handlerFurnitureByCategory,\n  handlerFurnitureDetailsOpenBtn,\n\n  //Export furniture detail modal handlers  \n  handlerFurnitureDetailsCloseBtn,\n  handlerFurnitureDetailsBackdropClick,\n  handlerFurnitureDetailsBackdropEscape,\n  handlerFurnitureDetailsSelectColor,\n  handlerFurnitureDetailsOrderBtn,\n\n  //Export order modal handlers  \n  handlerOrderCloseBtn,\n  handlerOrderBackdropClick,\n  handlerOrderBackdropEscape,\n  handlerOrderSubmitForm,\n};\n","import refs from './js/refs';\n//import './js/furniture-list';\nimport { handlerFurnitureByCategory, handlerFurnitureDetailsOpenBtn, handlerFurnitureLoadMoreBtn, handlerMenuOpenBtn, initialHomePage } from \"./js/handlers\";\nimport './js/modal.js';\n\ndocument.addEventListener(\"DOMContentLoaded\", initialHomePage);\n\n// \nrefs.menuOpenBtn.addEventListener('click', handlerMenuOpenBtn);\nrefs.furnitureCategoriesList.addEventListener('click', handlerFurnitureByCategory);\nrefs.furnitureLoadMoreBtn.addEventListener('click', handlerFurnitureLoadMoreBtn);\nrefs.furnitureFurnituresList.addEventListener('click', handlerFurnitureDetailsOpenBtn);\n\n\n//import './js/popular-furniture.js';\n"],"names":["refs","initialAccordion","params","Accordion","openBurgerMenu","handlerMenuBackdropEscape","handlerMenuBackdropClick","handlerMenuCloseBtn","handlerMenuLinksList","closeBurgerMenu","API_BASE_URL","API_ENDPOINTS","FURNITURES_PER_PAGE","FEEDBACKS_PER_PAGE","CATEGORY_TYPE","getFurnitureCategories","categoriesArr","axios","getFurnitureFurnitures","page","data","getFurnitureByCategory","category","getFurnitureById","furnitureId","getFeedbackFeedbacks","feedbacks","sendOrder","orderData","renderFurnitureCategories","allCategoriesMarkup","id","name","renderFurnitureFurnitures","furnitures","listMarkupArr","images","color","price","markupColor","clr","furnitureShowLoadMoreBtn","furnitureHideLoadMoreBtn","furnitureShowLoader","furnitureHideLoader","furnitureToggleActiveCategory","categoryEl","renderFeedbackFeedbacks","feedbacksMarkup","rate","descr","renderFurnitureDetailsModal","furnitureDetails","categoryName","description","sizes","imagesMarkup","image","colorsMarkup","colorItem","infoMarkup","furnitureDetailsToggleCurruntColor","colorEl","item","showOrderLoader","hideOrderLoader","openOrderModal","handlerOrderBackdropEscape","handlerOrderCloseBtn","handlerOrderBackdropClick","handlerOrderSubmitForm","closeOrderModal","validateForm","form","isValid","nameInput","phoneInput","commentInput","e","i","showError","phone","comment","clearForm","input","message","errorText","handleInputEvent","openFurnitureDetailsModal","handlerFurnitureDetailsBackdropEscape","handlerFurnitureDetailsCloseBtn","handlerFurnitureDetailsBackdropClick","handlerFurnitureDetailsOrderBtn","handlerFurnitureDetailsSelectColor","closeFurnitureDetailsModal","currentCategory","currentModelId","currentColor","initialHomePage","firstActiveCategory","totalItems","limit","feedbacksArr","error","handlerMenuOpenBtn","event","handlerFurnitureByCategory","clickedCategoryItem","handlerFurnitureLoadMoreBtn","handlerFurnitureDetailsOpenBtn","response","iziToast"],"mappings":"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"}