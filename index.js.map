{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/helpers.js","../src/js/burger-menu.js","../src/js/constants.js","../src/js/furniture-api.js","../src/js/render-function.js","../src/js/handlers.js","../src/main.js"],"sourcesContent":["const refs = {\n    //Menu elements\n    menuOpenBtn: document.querySelector('.header-burger-btn'),\n    menuCloseBtn:  document.querySelector('.burger-menu-close'),\n    menuBackdrop:  document.querySelector('.burger-menu'), \n    menuLinksList: document.querySelector('.content-list'),\n    \n    //Furniture elements\n    furnitureCategoriesList: document.querySelector('.category-list'),\n    furnitureFurnituresList: document.querySelector('.furniture-list'),\n    furnitureLoadMoreBtn: document.querySelector('.load-more-button'),\n}\n\nexport default refs;","import Accordion from \"accordion-js\";\n//import \"accordion-js/dist/accordion.min.css\";\n\nfunction initialAccordion() {    \n    const params = {\n        duration: 350,\n        showMultiple: false,\n        elementClass: \"accordion-item\",\n        triggerClass: \"accordion-trigger\",\n        panelClass: \"accordion-panel\",\n        activeClass: \"accordion-active\",\n    };    \n    \n    return new Accordion(\".accordion-list\", params);\n}\n\nexport { initialAccordion };","import refs from './refs';\nimport { handlerMenuCloseBtn,handlerMenuBackdropClick, handlerMenuBackdropEscape, handlerMenuLinksList } from './handlers.js'\n\nfunction openBurgerMenu()  {\n  refs.menuBackdrop.classList.add('is-open');\n  document.body.classList.add('no-scroll');\n  document.addEventListener('keydown', handlerMenuBackdropEscape);\n  refs.menuBackdrop.addEventListener('click', handlerMenuBackdropClick);\n  refs.menuCloseBtn.addEventListener('click', handlerMenuCloseBtn);\n  refs.menuLinksList.addEventListener('click', handlerMenuLinksList);    \n};\n  \nfunction closeBurgerMenu() {\n  refs.menuBackdrop.classList.remove('is-open');\n  document.body.classList.remove('no-scroll');\n  document.removeEventListener('keydown', handlerMenuBackdropEscape);\n  refs.menuBackdrop.removeEventListener('click', handlerMenuBackdropClick);\n  refs.menuCloseBtn.removeEventListener('click', handlerMenuCloseBtn);\n  refs.menuLinksList.removeEventListener('click', handlerMenuLinksList);\n}\n\nexport {\n  openBurgerMenu,\n  closeBurgerMenu\n}","const API_BASE_URL = \"https://furniture-store-v2.b.goit.study\";\n\nconst API_ENDPOINTS = {\n  FURNITURES: \"/api/furnitures\",\n  FURNITURES_BY_ID: \"/api/furnitures/\",\n  CATEGORIES: \"/api/categories\",\n  FEEDBACKS: \"/api/feedbacks\",\n  ORDERS: \"/api/orders\"    \n};\n\nconst FURNITURES_PER_PAGE = 8;\nconst FEEDBACKS_PER_PAGE = 10;\n\nconst CATEGORY_TYPE = {\n  \"Всі товари\": \"all-furniture\",\n  \"М'які меблі\": \"upholstered-furniture\",\n  \"Шафи та системи зберігання\": \"wardrobes-storage\",\n  \"Ліжка та матраци\": \"beds-mattresses\",\n  \"Столи\": \"tables\",\n  \"Стільці та табурети\": \"chairs-stools\",\n  \"Кухні\": \"kitchens\",\n  \"Меблі для дитячої\": \"kids-furniture\",\n  \"Меблі для офісу\": \"office-furniture\",\n  \"Меблі для передпокою\": \"hallway-furniture\",\n  \"Меблі для ванної кімнати\": \"bathroom-furniture\",\n  \"Садові та вуличні меблі\": \"outdoor-garden-furniture\",\n  \"Декор та аксесуари\": \"decor-accessories\"\n};\n\nexport {\n  API_BASE_URL,\n  API_ENDPOINTS,\n  FURNITURES_PER_PAGE,\n  FEEDBACKS_PER_PAGE,  \n  CATEGORY_TYPE\n};","import axios from 'axios';\nimport { API_BASE_URL, API_ENDPOINTS, FURNITURES_PER_PAGE } from './constants';\n\nasync function getFurnitureCategories() {\n    const { data: categoriesArr } = await axios.get(`${API_BASE_URL}${API_ENDPOINTS.CATEGORIES}`);\n  \n    return categoriesArr;\n}\n\nasync function getFurnitureFurnitures(page = 1) {\n    const { data } = await axios\n        .get(`${API_BASE_URL}${API_ENDPOINTS.FURNITURES}`, {\n            params: {\n                page,\n                limit: FURNITURES_PER_PAGE,\n            },\n        });\n    \n    return data;\n}\n\nexport {\n    getFurnitureCategories, \n    getFurnitureFurnitures\n}","import refs from './refs';\nimport { CATEGORY_TYPE } from './constants';\n\n//#region ===== Furniture =====\nfunction renderFurnitureCategories(categoriesArr) {\n  const allCategoriesArr = [\n        { _id: 'all', name: 'Всі товари' },\n        ...categoriesArr,\n    ];\n    \n  const allCategoriesMarkup = allCategoriesArr\n    .map(\n        ({ _id: id, name }) => {\n        return `\n        <li class=\"category-item\"\n            data-category-id=\"${id}\" \n            data-category-type=\"${ CATEGORY_TYPE[name] || 'unknown'}\"\n        >\n            <p class=\"category-name\">${name}</p>\n        </li>\n        `\n    })\n    .join('');\n\n    refs.furnitureCategoriesList.insertAdjacentHTML('beforeend', allCategoriesMarkup);\n}\n\nfunction renderFurnitureFurnitures(furnitures) {\n    const listMarkupArr = furnitures\n        .map(({ _id: id, images, name, color, price }) => {\n                const markupColor = color\n                .map(clr => `<li class=\"furniture-color\" style=\"background-color: ${clr};\"></li>`)\n            .join('');\n            \n            return `\n            <li class=\"furniture-item\" data-category-id=\"${id}\">\n                <img class=\"furniture-image\" src=\"${images[0]}\" alt=\"${name}\"/>\n                <div class=\"furniture-info\">\n                    <h3 class=\"furniture-name\">${name}</h3>\n                    <ul class=\"furniture-colors\">\n                        ${markupColor}\n                    </ul>\n                    <p class=\"furniture-price\">${price} грн</p>\n                </div>\n                <button class=\"furniture-button\" type=\"button\">Детальніше</button>\n            </li>\n            `;\n        })\n        .join('');\n\n    refs.furnitureFurnituresList.insertAdjacentHTML('beforeend', listMarkupArr);\n}\n//#endregion ===== Furniture =====\n\nexport {\n    renderFurnitureCategories,\n    renderFurnitureFurnitures\n}","import refs from './refs';\nimport { initialAccordion } from \"./helpers\";\nimport { openBurgerMenu, closeBurgerMenu } from './burger-menu';\nimport { getFurnitureCategories, getFurnitureFurnitures } from './furniture-api';\nimport { renderFurnitureCategories, renderFurnitureFurnitures } from './render-function';\n\nlet page = null;\n\nasync function initialHomePage() {\n    page = 1;\n\n    try {\n        const categoriesArr = await getFurnitureCategories();\n        const listArr = await getFurnitureFurnitures();\n        renderFurnitureCategories(categoriesArr);\n        renderFurnitureFurnitures(listArr.furnitures);\n    } catch (error) {\n        console.log(error.message);\n    }\n\n    initialAccordion();    \n}\n\n//#region ===== Menu handlers =====\n\nfunction handlerMenuOpenBtn() {\n    openBurgerMenu();\n}\n\nfunction handlerMenuCloseBtn() {\n    closeBurgerMenu();\n}\n\nfunction handlerMenuBackdropClick(event) {\n    if (event.target === refs.menuBackdrop) {\n      closeBurgerMenu();\n    }\n}\n\nfunction handlerMenuBackdropEscape(event) {    \n    if (event.key === 'Escape') {\n        closeBurgerMenu();\n    }\n};\n\nfunction handlerMenuLinksList(event) {\n     if (event.target.nodeName !== 'A') return;\n      closeBurgerMenu();\n}\n//#endregion ===== Menu handlers =====\n\n//#region ===== Furniture handlers =====\n\nasync function handlerFurnitureLoadMoreBtn() {\n  page++;\n  try {        \n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n//#endregion ===== Furniture handlers =====\n\n\nexport {\n    initialHomePage,\n\n    //Export menu handlers\n    handlerMenuOpenBtn,\n    handlerMenuCloseBtn,\n    handlerMenuBackdropClick,\n    handlerMenuBackdropEscape,\n    handlerMenuLinksList,\n\n    //Export furniture handlers\n    handlerFurnitureLoadMoreBtn\n};\n\n\n    \n","import refs from './js/refs';\nimport './js/furniture-list';\nimport { handlerFurnitureLoadMoreBtn, handlerMenuOpenBtn, initialHomePage } from \"./js/handlers\";\n\n\ndocument.addEventListener(\"DOMContentLoaded\", initialHomePage);\n\n// \nrefs.menuOpenBtn.addEventListener('click', handlerMenuOpenBtn);\nrefs.furnitureLoadMoreBtn.addEventListener('click', handlerFurnitureLoadMoreBtn);"],"names":["refs","initialAccordion","params","Accordion","openBurgerMenu","handlerMenuBackdropEscape","handlerMenuBackdropClick","handlerMenuCloseBtn","handlerMenuLinksList","closeBurgerMenu","API_BASE_URL","API_ENDPOINTS","FURNITURES_PER_PAGE","CATEGORY_TYPE","getFurnitureCategories","categoriesArr","axios","getFurnitureFurnitures","page","data","renderFurnitureCategories","allCategoriesMarkup","id","name","renderFurnitureFurnitures","furnitures","listMarkupArr","images","color","price","markupColor","clr","initialHomePage","listArr","error","handlerMenuOpenBtn","event","handlerFurnitureLoadMoreBtn"],"mappings":"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"}